<!DOCTYPE html>
<html>
<head>
<!--彩蛋画-->
<script type="text/javascript" src="js/log.js"></script>
<!--百度统计-->
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?ecee3ae7c3d79d2324688ed651f923f2";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
<!--禁止缓存-->
<meta http-equiv="pragma" content="no-cache">
<meta http-equiv="cache-control" content="no-cache">
<meta http-equiv="expires" content="0">
<!--<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>-->
<link rel="stylesheet" type="text/css" href="4.css">
<title>橙子背书系统_背书</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>
<body>

<div id="jieshao">
<header>
<a href="javascript:void(0);" onclick="window.location.href='index_2.html?bs=true'"><img src="back.png" id="b" alt="back"/></a>
<h1 id="oes">橙子背书系统_背书<工具升级中,升级回来更精彩!></h1>
</header>
<div id="main2">
<h1 id="btbt"><<这是一个标题哦!>></h1>
<h2 id="msms">一些描述文字</h2>
<a href="javascript:void(0);" onclick="document.getElementById('jieshao').style.display='none';document.getElementById('dati').style.display='block';sessionStorage.setItem('zi','0');sessionStorage.time=0;choose('0');sessionStorage.right=0;sessionStorage.wrong=0;sessionStorage.finish = 0;"><h2>开始背书!</h2></a>
<a href="javascript:void(0);" onclick="updateUrl('is_ai','true');alert('已经在这个模式了!');"><h3>背书双人对战V0.1(BETA)>>(维护中)</h3></a>
</div>
</div>


<div id="dati" style="display: none;">
<header>
<h1 id="oes1"><<这是一个标题哦!>>------0秒</h1>
</header>
<div id="main2">
<a href="javascript:void(0);" onclick="tap('1');"><textarea id="xx1" style="resize:none;width: 10vw;height:10vh;font-size:8vh;" readonly>第1个字</textarea></a>
<a href="javascript:void(0);" onclick="tap('2');"><textarea id="xx2" style="resize:none;width: 10vw;height:10vh;font-size:8vh;" readonly>第2个字</textarea></a>
<a href="javascript:void(0);" onclick="tap('3');"><textarea id="xx3" style="resize:none;width: 10vw;height:10vh;font-size:8vh;" readonly>第3个字</textarea></a>
<a href="javascript:void(0);" onclick="tap('4');"><textarea id="xx4" style="resize:none;width: 10vw;height:10vh;font-size:8vh;" readonly>第4个字</textarea></a>
<a href="javascript:void(0);" onclick="tap('0');"><textarea id="xx0" style="resize:none;width: 10vw;height:10vh;font-size:8vh;" readonly>第5个字</textarea></a>

<div id="beidezii" style="position: absolute;left:0vw;top:10vh;width:50vw;height:70vh;overflow-y:scroll;">
<br>
</div>
<div id="beidezii2" style="position: absolute;left:52vw;top:10vh;width:48vw;height:70vh;overflow-y:scroll;">
<br>
</div>

</div>
</div>

<div id="share" style="display: none;">
<header>
<a href="javascript:void(0);" onclick="document.getElementById('jieshao').style.display='block';document.getElementById('share').style.display='none';sessionStorage.clear();"><img src="back.png" id="b" alt="back"/></a>
<h1 id="oes">橙子背书系统</h1>
</header>
<div id="main2">
<h2 id="btbt1"><<这是一个标题哦!>></h2>
<h3 id="tmtm">time</h3>
<h3 id="rjrj"></h3>
<h3 id="sss">score</h3>
<h3 id="duii" style='color:green;'>对了</h3>
<h3 id="cuole" style='color:red;'>x了</h3>
<h3>默写错误(红色)</h3><br>
<h3 id="ywyw" style="position: absolute;left:0vw;top:50vh;width:50vw;height:70vh;overflow-y:scroll;">原文</h3>
<h3 id="ywyw2" style="position: absolute;left:52vw;top:50vh;width:48vw;height:70vh;overflow-y:scroll;">原文</h3>
</div>
</div>


<script type="text/javascript"> 
sessionStorage.rrrr = 0;
//获取参数
 var request =
   {QueryString : function(val){
   var uri = window.location.search;
   var re = new RegExp("" +val+ "=([^&?]*)", "ig");
   return ((uri.match(re))?(uri.match(re)[0].substr(val.length+1)):null);}}
   var wenzhangid = request.QueryString("wenzhangid");
   var is_ai = request.QueryString("is_ai");
 function updateUrl(key, value){
var newurl = updateQueryStringParameter(key, value)
 window.history.replaceState({path: newurl},'', newurl);}
  function updateQueryStringParameter(key, value) {
var uri = window.location.href
if(!value) {return uri;}
var re = new RegExp("([?&])" + key + "=.*?(&|$)", "i");var separator = uri.indexOf('?') !== -1 ? "&" : "?";if (uri.match(re)) {return uri.replace(re, '$1' + key + "=" + value + '$2');}else {return uri + separator + key + "=" + value;}}
document.write("<script type='text/javascript' src=paper/" + wenzhangid + ".js?v=" + new Date().getTime() + ">");
</script></script>

<script>
document.getElementById('btbt').innerHTML=title;
document.getElementById('msms').innerHTML=tishi;
document.getElementById('btbt1').innerHTML=title;

window.onload=function(){setInterval(function(){yimiao();},1000);}
function yimiao(){
if(is_ai == "true")
{document.getElementById('oes').innerHTML="橙子背书系统_人机对战";}
var right = sessionStorage.right;//答对数量
var wrong = sessionStorage.wrong;//答错数量
var ygyw =document.getElementById('beidezii').innerHTML;
var ygyw2 =document.getElementById('beidezii2').innerHTML;
var wancheng = sessionStorage.finish;//判断游戏是否介绍哦
var xxxh = sessionStorage.zi;//第几个字
var oldtime = sessionStorage.time;//答题时间
if(oldtime != null && oldtime != undefined && wancheng  != 1){
var ntt = Number(oldtime)+Number(1);
sessionStorage.time = ntt;}
document.getElementById('oes1').innerHTML = title + "------" + oldtime + "秒";
if (xxxh >= answer.length){document.getElementById('dati').style.display='none';document.getElementById('share').style.display='block';sessionStorage.finish = 1;
var scoreold = Number(right)*4 - Number(wrong);
if(oldtime < AI_FAST && Number(right) * Number(2) >= Number(answer.length)) {score = Number(scoreold) + (Number(AI_FAST) - Number(oldtime))*Number(5)}
if(oldtime > AI_FAST && oldtime < AI_SLOW) {score = Number(scoreold) + (Number(AI_SLOW) - Number(oldtime))*Number(0.5)}
if(oldtime > AI_SLOW) {score = Number(scoreold) - (Number(oldtime) - Number(AI_SLOW))*Number(0.5)}
document.getElementById('duii').innerHTML="你答对了:"+right+"个";
document.getElementById('cuole').innerHTML="你答错了:"+wrong+"个";
document.getElementById('ywyw').innerHTML=ygyw;
document.getElementById('tmtm').innerHTML="你的用时:"+oldtime+"秒";
document.getElementById('sss').innerHTML="你的得分:"+score+"分";
document.getElementById('ywyw2').innerHTML=ygyw2;
var rrrr = sessionStorage.rrrr;
if(is_ai == "true" && rrrr !=1)
{jqr();}

}
}

//jqr
function jqr(){
if(is_ai == "true")
{
var ssssss = Number(answer.length) / Number(3);
var rwrong = Math.floor(Math.random() *  Number(ssssss));//r答错数量
var rright =  Number(answer.length) -  Number(rwrong);//r答对数量
var rtime =  Math.floor(Math.random() * (Number(AI_SLOW) - Number(AI_FAST) + Number(1))) + Number(AI_FAST);
var rscore = Number(rright)*5 - Number(rwrong);
//var rscore = Number(rscoreold) + (Number(AI_SLOW) - Number(rtime))*Number(0.5);
if(rscore < score)
{var name = localStorage.name;document.getElementById('rjrj').innerHTML=name+" VS AI机器人----胜利!\n(AI得分:"+rscore+",正确"+rright+"个,错误"+rwrong+"个,用时"+rtime+"秒)";}
else if(rscore = score)
{var name = localStorage.name;document.getElementById('rjrj').innerHTML=name+" VS AI机器人----平局!\n(AI得分:"+rscore+",正确"+rright+"个,错误"+rwrong+"个,用时"+rtime+"秒)";}
else if(rscore > score)
{var name = localStorage.name;document.getElementById('rjrj').innerHTML=name+" VS AI机器人----失败!\n(AI得分:"+rscore+",正确"+rright+"个,错误"+rwrong+"个,用时"+rtime+"秒)";}}
sessionStorage.rrrr = 1;}


//选择
function tap(xuhao){
var laodezi =document.getElementById('beidezii').innerHTML;
var laodezi2 =document.getElementById('beidezii2').innerHTML;
var right = sessionStorage.right;//答对数量
var wrong = sessionStorage.wrong;//答错数量
var xxxh = sessionStorage.zi;
var xiedezixuhao = "xx" + xuhao;
var xiedezi = document.getElementById(xiedezixuhao).value;
if(xiedezi == answer[xxxh]){
sessionStorage.right = Number(right)+Number(1);
document.getElementById('beidezii').innerHTML=laodezi + "<p style='color:green;float:left;'>" +answer[xxxh]+ "</p>";
document.getElementById('beidezii2').innerHTML=laodezi2 + "<p style='color:green;float:left;'>" +answer[xxxh]+ "</p>";

}

if(xiedezi != answer[xxxh]){
sessionStorage.wrong = Number(wrong)+Number(1);
//document.getElementById('beidezii').innerHTML=laodezi + "<p style='color:red;float:left;'>" +answer[xxxh]+ "</p>";
document.getElementById('beidezii').innerHTML=laodezi + "<p style='color:red;float:left;'>" +xiedezi+ "</p>";
document.getElementById('beidezii2').innerHTML=laodezi2 + "<p style='color:red;float:left;'>" +answer[xxxh]+"</p>";
}



sessionStorage.zi = Number(xxxh) + Number(1);
var xxxh2 = sessionStorage.zi;
choose(xxxh2);
}


//生成
function choose(xh){
for(i=0;i<5;i++){
var id1 = Math.floor(Math.random() * answer.length);
var idd = "xx" + i;
var fff = document.getElementById(idd);
fff.innerHTML=answer[id1];
}
var id2 = Math.floor(Math.random() * 5);
var id3 = "xx" + id2;
var fullid = document.getElementById(id3);
fullid.innerHTML = answer[xh];
}

</script>

</body>
</html>